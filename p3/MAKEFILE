.PHONY: broadcast help clean pipeline pipeline-all step1 step2 step3 step4 step3-plots step4-compare

# Default Python interpreter (can be overridden)
PYTHON ?= python

# Run broadcast.py
broadcast:
	$(PYTHON) broadcast.py

# Run pipeline.py
pipeline:
	@echo "Use specific pipeline targets: step1, step2, step3, step4, or pipeline-all"

# Help target
help:
	@echo "Available targets:"
	@echo "  make broadcast  - Run broadcast.py to benchmark broadcast functions"
	@echo "  make help       - Show this help message"
	@echo "  make clean      - Clean Python cache files"

# Clean Python cache files
clean:
	find . -type d -name "__pycache__" -exec rm -r {} + 2>/dev/null || true
	find . -type f -name "*.pyc" -delete 2>/dev/null || true
	find . -type f -name "*.pyo" -delete 2>/dev/null || true
	find . -type d -name "*.egg-info" -exec rm -r {} + 2>/dev/null || true

# Default target
.DEFAULT_GOAL := help

